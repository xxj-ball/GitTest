"use strict";!function(){function i(t){this.init(t)}i.prototype={contructor:i,init:function(t){this.minBox=this.getNodes(t.minBox),this.mask=this.getNodes(t.mask),this.maxBox=this.getNodes(t.maxBox),this.maxImg=this.getNodes(t.maxImg),this.bindEvent()},getNodes:function(t){return document.querySelector(t)},bindEvent:function(){this.minBox.onmouseenter=function(){this.showHide("block")}.bind(this),this.minBox.onmouseleave=function(){this.showHide("none")}.bind(this),this.minBox.onmousemove=function(t){var i=t||event;this.move(i)}.bind(this)},showHide:function(t){this.mask.style.display=t,this.maxBox.style.display=t},move:function(t){var i=t.clientX-offset(this.minBox,!1).left-this.mask.clientWidth/2,e=t.pageY-offset(this.minBox,!1).top-this.mask.clientHeight/2;i<0&&(i=0),i>=this.minBox.clientWidth-this.mask.clientWidth&&(i=this.minBox.clientWidth-this.mask.clientWidth),e<0&&(e=0),e>=this.minBox.clientHeight-this.mask.clientHeight&&(e=this.minBox.clientHeight-this.mask.clientHeight),this.mask.style.left=i+"px",this.mask.style.top=e+"px";var n=i/(this.minBox.clientWidth-this.mask.clientWidth),s=e/(this.minBox.clientHeight-this.mask.clientHeight),o=n*(this.maxImg.clientWidth-this.maxBox.clientWidth),m=s*(this.maxImg.clientHeight-this.maxBox.clientHeight);this.maxImg.style.left=-o+"px",this.maxImg.style.top=-m+"px"}},window.magnifying=function(t){return new i(t)}}();var sname_,num,sname=getQueryString("x");null!=sname&&(sname_=decodeURIComponent(sname),num=sname_.split('"')[1]),$.ajax({url:"../data/goods.json",type:"get",dataType:"json",success:function(t){$.each(t,function(t,i){if(i.code==num){for(var e="",n=0;n<i.img.length;n++)e+='<li><img src="'.concat(i.img[n],'"></li>');$(".huaImg ul").append(e);var s='<img src="'.concat(i.img[0],'">'),o='<img src="'.concat(i.img[0],'">');$(".box").append(s),$(".maxImg").append(o),magnifying({minBox:".box",mask:".mask",maxBox:".maxImg",maxImg:".maxImg img"});var m=$(".huaImg li"),l=$(".maxImg"),c=$(".box img");m.mouseenter(function(){l.children("img").attr("src",$(this).children().prop("src")),c.attr("src",$(this).children().prop("src"))});for(var a="",h=0;h<i.color.length;h++)a+='<li><img src="../image/pro1.png">'.concat(i.color[h],"</li>");$(".color ul").append(a);for(var p="",r=0;r<i.type.length;r++)p+="<li>".concat(i.type[r],"</li>");$(".type ul").append(p),$(".sp1").text(i.title),$(".price p").text(i.price),$(".sp2").text(i.type[0]),$(".sp3").text(i.color[0]),$(".color ul li").click(function(){var t=$(".color ul li").index($(this));$(".sp3").text(i.color[t]),$(".select p").html($(".sp3").html()+"/"+$(".sp2").html()+"/"+$(".tao p").text())}),$(".type ul li").click(function(){$(".sp2").text($(this).text());var t=$(".type ul li").index($(this));$(".price p").text(i.pri[t]),$(".select p").html($(".sp3").html()+"/"+$(".sp2").html()+"/"+$(".tao p").text())}),$(".select p").html($(".sp3").html()+"/"+$(".sp2").html()+"/"+$(".tao p").text()),$(".del .del2").text(i.tit)}})}});var numb=1;$(".mail_le i").text(numb),$(".jia").click(function(){numb++,$(".mail_le i").text(numb)}),$(".jian").click(function(){--numb<=1&&(numb=1),$(".mail_le i").text(numb)});var sp=document.querySelector(".top p span"),d=Date.now(),da=new Date,time=da.setTime(d+864e5),tm=new Date(time);$(".top p span").text(tm.getMonth()+1+"月"+tm.getDate()+"日"),$(".fix li").mouseenter(function(){$(this).children("p").css("display","block")}),$(".fix li").mouseleave(function(){$(this).children("p").css("display","none")});var ding=document.querySelector(".fix .ding");ding.onclick=function(){animate(document.documentElement,{scrollTop:0})},$(window).scroll(function(){var t=$(".ding");1e3<=$(window).scrollTop()?t.show():t.hide()});