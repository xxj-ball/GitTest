"use strict";var timer,imgs=document.querySelectorAll(".mainImg img"),nums=document.querySelectorAll(".num li"),prev=document.querySelector(".prev"),next=document.querySelector(".next"),showIndex=0,preIndex=0;function moveNext(){imgs[preIndex].className="",nums[preIndex].className="",imgs[preIndex].style.opacity=.02,++showIndex>=imgs.length&&(showIndex=0),imgs[showIndex].className="show",nums[showIndex].className="active",preIndex=showIndex,animate(imgs[showIndex],{opacity:1})}function movePrev(){imgs[preIndex].className="",nums[preIndex].className="",imgs[preIndex].style.opacity=.02,--showIndex<0&&(showIndex=imgs.length-1),imgs[showIndex].className="show",nums[showIndex].className="active",preIndex=showIndex,animate(imgs[showIndex],{opacity:1})}animate(imgs[showIndex],{opacity:1},function(){timer=setInterval(function(){moveNext()},3e3)}),next.onclick=function(){clearInterval(timer),clearInterval(imgs[showIndex]),moveNext(),timer=setInterval(function(){moveNext()},3e3)},prev.onclick=function(){clearInterval(timer),clearInterval(imgs[showIndex]),movePrev(),timer=setInterval(function(){moveNext()},3e3)};for(var i=0;i<nums.length;i++)nums[i].index=i,nums[i].onclick=function(){clearInterval(timer),imgs[preIndex].className="",nums[preIndex].className="",imgs[preIndex].style.opacity=.02,showIndex=this.index,imgs[showIndex].className="show",nums[showIndex].className="active",preIndex=showIndex,animate(imgs[showIndex],{opacity:1}),timer=setInterval(function(){moveNext()},3e3)};var $inter=$(".mian .inter"),$broadside_tit=$(".main .broadside_tit");$broadside_tit.on("mouseenter",function(){$(this).children("div").addClass("show").parent().siblings().children().removeClass("show")}),$broadside_tit.on("mouseleave",function(){$(this).children("div").removeClass("show")});var adv=document.querySelector(".adv"),list=document.querySelectorAll(".adv li"),msgIndex=0;setInterval(function(){++msgIndex>=list.length-1&&(msgIndex=1,adv.scrollTop=0),animate(adv,{scrollTop:adv.clientHeight*msgIndex})},3e3);var timer1,mySwiper=new Swiper(".swiper-container",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{slideChangeTransitionEnd:function(){this.isEnd?this.navigation.$nextEl.css("display","none"):this.navigation.$nextEl.css("display","block")}}}),listIndex=0,$img=$(".lowidth img"),$number=$(".vamll li");function move(){$img.eq(listIndex).removeClass("zhan").css("opacity",.02),$number.eq(listIndex).removeClass("number"),++listIndex>=$img.length&&(listIndex=0),$img.eq(listIndex).addClass("zhan"),$number.eq(listIndex).addClass("number"),$img.eq(listIndex).animate({opacity:1})}$img.eq(listIndex).animate({opacity:1},function(){timer1=setInterval(function(){move()},3e3)}),$number.on("mouseenter",function(){clearInterval(timer1);var e=$number.index($(this));$img.eq(listIndex).css("opacity",.02),$(this).addClass("number").siblings().removeClass("number"),$img.eq(e).addClass("zhan").siblings().removeClass("zhan"),$img.eq(e).animate({opacity:1}),timer1=setInterval(function(){move()},3e3)}),$.ajax({url:"../data/goods.json",type:"get",dataType:"json",success:function(e){$.each(e,function(e,n){var i;e<19&&(i="",i+="<li><a href='./details.html?x=\"".concat(n.code,'"\'><img src="').concat(n.imgurl,'">\n              <h3>').concat(n.title,'</h3>\n                  <p class="mian">最高优惠100</p>\n                  <p>').concat(n.price,"</p>\n          </a></li>")),$(".fir").after(i)})}}),$(".fix li").mouseenter(function(){$(this).children("p").css("display","block")}),$(".fix li").mouseleave(function(){$(this).children("p").css("display","none")});var ding=document.querySelector(".fix .ding");ding.onclick=function(){animate(document.documentElement,{scrollTop:0})},$(window).scroll(function(){var e=$(".ding");1e3<=$(window).scrollTop()?e.show():e.hide()});var sname_,n,sname=getQueryString("name");null!=sname&&(sname_=decodeURIComponent(sname),n=sname_.split('"')[1],$(".navRight .first").children().eq(0).text("亲~,欢迎登录"),$(".navRight .first").children().eq(1).text("退出"),$(".navRight .first").children().eq(1).attr("href","./login.html"),$(".navRight .first").children().eq(1).click(function(){$(".navRight .first").children().eq(0).text("登录"),$(".navRight .first").children().eq(1).text("注册"),$(".navRight .first").children().eq(1).attr("href","./sign.html")}));